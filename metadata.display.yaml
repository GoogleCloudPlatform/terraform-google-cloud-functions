# Copyright 2025 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: blueprints.cloud.google.com/v1alpha1
kind: BlueprintMetadata
metadata:
  name: terraform-google-cloud-functions-display
  annotations:
    config.kubernetes.io/local-config: "true"
spec:
  info:
    title: Terraform Google Cloud Functions (Gen 2) module
    source:
      repo: https://github.com/anshukaira/terraform-google-cloud-functions.git
      sourceType: git
  ui:
    input:
      variables:
        build_env_variables:
          name: build_env_variables
          title: Build Env Variables
        build_service_account:
          name: build_service_account
          title: Build Service Account
          regexValidation: ^projects/[a-z0-9-]+/serviceAccounts/[a-z][a-z0-9-]{4,29}@[a-z][a-z0-9-]{4,29}\.iam\.gserviceaccount\.com$
          validation: "Must be the full service account identifier: projects/{project_id}/serviceAccounts/{account_email}"
        description:
          name: description
          title: Description
          level: 1
        docker_repository:
          name: docker_repository
          title: Docker Repository
        entrypoint:
          name: entrypoint
          title: Entrypoint
        event_trigger:
          name: event_trigger
          title: Event Trigger
          properties:
            service_account_email:
              name: service_account_email
              title: Service Account Email
              regexValidation: ^[a-z][a-z0-9-]{4,29}@[a-z][a-z0-9-]{4,29}\.iam\.gserviceaccount\.com$
              validation: Service account email must be in the format {account-id}@{project-id}.iam.gserviceaccount.com.
        function_location:
          name: function_location
          title: Function Location
        function_name:
          name: function_name
          title: Function Name
        labels:
          name: labels
          title: Labels
        location:
          name: location
          title: Location
        members:
          name: members
          title: Members
        project_id:
          name: project_id
          title: Project Id
        repo_source:
          name: repo_source
          title: Repo Source
        runtime:
          name: runtime
          title: Runtime
          enumValueLabels:
            - label: Node_JS_24
              value: nodejs24
            - label: Node_JS_22
              value: nodejs22
            - label: Node_JS_20
              value: nodejs20
            - label: Node_JS_18
              value: nodejs18
            - label: Node_JS_16
              value: nodejs16
            - label: Node_JS_14
              value: nodejs14
            - label: Node_JS_12
              value: nodejs12
            - label: Node_JS_10
              value: nodejs10
            - label: Python_3_13
              value: python313
            - label: Python_3_12
              value: python312
            - label: Python_3_11
              value: python311
            - label: Python_3_10
              value: python310
            - label: Go_1_23
              value: go123
            - label: Go_1_22
              value: go122
            - label: Go_1_21
              value: go121
            - label: Go_1_20
              value: go120
            - label: Go_1_19
              value: go119
            - label: Go_1_18
              value: go118
            - label: Go_1_16
              value: go116
            - label: Go_1_13
              value: go113
            - label: Java_21
              value: java21
            - label: Java_17
              value: java17
            - label: Java_11
              value: java11
            - label: Ruby_3_3
              value: ruby33
            - label: Ruby_3_2
              value: ruby32
            - label: Ruby_3_0
              value: ruby30
            - label: Ruby_2_7
              value: ruby27
            - label: Ruby_2_6
              value: ruby26
            - label: PHP_8_3
              value: php83
            - label: PHP_8_2
              value: php82
            - label: PHP_8_1
              value: php81
            - label: PHP_7_4
              value: php74
            - label: DOT_NET_8
              value: dotnet8
            - label: DOT_NET_6
              value: dotnet6
            - label: DOT_NET_3
              value: dotnet3
          level: 1
        service_config:
          name: service_config
          title: Service Config
        storage_source:
          name: storage_source
          title: Storage Source
        worker_pool:
          name: worker_pool
          title: Worker Pool
